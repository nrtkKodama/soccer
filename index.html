<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="сѓхсЃЃсѓФсЃ╝сЃЋсѓЕсЃ╝сЃАсЃ╝сѓисЃДсЃ│т╝итїќтГду┐њсѓисЃЪсЃЦсЃгсЃ╝сѓ┐сЃ╝ - Q-LearningсЂДТюђжЂЕсЂфТѕдУАЊсѓњТјбу┤б">
  <title>Soccer Tactics AI - сЃЋсѓЕсЃ╝сЃАсЃ╝сѓисЃДсЃ│т╝итїќтГду┐њ</title>
  <link rel="stylesheet" href="styles.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>

<body>

  <!-- ===== Header ===== -->
  <header class="header">
    <div class="header-title">
      <span class="icon">Рџй</span>
      <div>
        <h1>SOCCER TACTICS AI</h1>
        <span class="header-subtitle">Тћ╗т«ѕтѕЦсЃЋсѓЕсЃ╝сЃАсЃ╝сѓисЃДсЃ│ ├Ќ т╝итїќтГду┐њ</span>
      </div>
    </div>
    <div class="header-badge">
      <span class="dot"></span>
      <span>Q-Learning Engine</span>
    </div>
  </header>

  <!-- ===== Main App ===== -->
  <div class="app-container">

    <!-- ===== Sidebar ===== -->
    <aside class="sidebar">

      <!-- Home Team -->
      <div class="card">
        <div class="card-header">
          <span class="card-icon">­ЪЪд</span>
          <h2>сЃЏсЃ╝сЃасЃЂсЃ╝сЃа</h2>
        </div>

        <div class="strategy-group">
          <div class="strategy-label">Рџћ№ИЈ Тћ╗ТњЃТЎѓсЃЋсѓЕсЃ╝сЃАсЃ╝сѓисЃДсЃ│</div>
          <select class="strategy-select" id="homeAtkFormation"></select>
        </div>

        <div class="strategy-group">
          <div class="strategy-label">­ЪЏА№ИЈ т«ѕтѓЎТЎѓсЃЋсѓЕсЃ╝сЃАсЃ╝сѓисЃДсЃ│</div>
          <select class="strategy-select" id="homeDefFormation"></select>
        </div>

        <div class="strategy-group">
          <div class="strategy-label">Рџћ№ИЈ Тћ╗ТњЃТѕдуЋЦ</div>
          <select class="strategy-select" id="homeAttackStrategy"></select>
          <div class="strategy-desc" id="homeAttackDesc"></div>
        </div>

        <div class="strategy-group">
          <div class="strategy-label">­ЪЏА№ИЈ т«ѕтѓЎТѕдуЋЦ</div>
          <select class="strategy-select" id="homeDefenseStrategy"></select>
          <div class="strategy-desc" id="homeDefenseDesc"></div>
        </div>
      </div>

      <!-- Away Team (Opponent) -->
      <div class="card">
        <div class="card-header">
          <span class="card-icon">­ЪЪЦ</span>
          <h2>сѓбсѓдсѓДсѓцсЃЂсЃ╝сЃа</h2>
        </div>

        <div class="opponent-section">
          <div class="strategy-group">
            <div class="strategy-label">Рџћ№ИЈ Тћ╗ТњЃТЎѓсЃЋсѓЕсЃ╝сЃАсЃ╝сѓисЃДсЃ│</div>
            <select class="strategy-select" id="awayAtkFormation"></select>
          </div>
          <div class="strategy-group">
            <div class="strategy-label">­ЪЏА№ИЈ т«ѕтѓЎТЎѓсЃЋсѓЕсЃ╝сЃАсЃ╝сѓисЃДсЃ│</div>
            <select class="strategy-select" id="awayDefFormation"></select>
          </div>
          <div class="strategy-group">
            <div class="strategy-label">Рџћ№ИЈ Тћ╗ТњЃТѕдуЋЦ</div>
            <select class="strategy-select" id="awayAttackStrategy"></select>
          </div>
          <div class="strategy-group">
            <div class="strategy-label">­ЪЏА№ИЈ т«ѕтѓЎТѕдуЋЦ</div>
            <select class="strategy-select" id="awayDefenseStrategy"></select>
          </div>
        </div>
      </div>

      <!-- RL Parameters -->
      <div class="card">
        <div class="card-header">
          <span class="card-icon">­ЪДа</span>
          <h2>тГду┐њсЃЉсЃЕсЃАсЃ╝сѓ┐</h2>
        </div>

        <div class="param-group">
          <div class="param-label">
            <span>тГду┐њујЄ (╬▒)</span>
            <span class="param-value" id="lrValue">0.10</span>
          </div>
          <input type="range" id="learningRate" min="0.01" max="0.5" step="0.01" value="0.1">
        </div>

        <div class="param-group">
          <div class="param-label">
            <span>тЅ▓т╝ЋујЄ (╬│)</span>
            <span class="param-value" id="dfValue">0.95</span>
          </div>
          <input type="range" id="discountFactor" min="0.5" max="0.99" step="0.01" value="0.95">
        </div>

        <div class="param-group">
          <div class="param-label">
            <span>Тјбу┤бујЄ (╬х)</span>
            <span class="param-value" id="epValue">1.00</span>
          </div>
          <input type="range" id="epsilon" min="0.05" max="1.0" step="0.01" value="1.0">
        </div>

        <div class="param-group">
          <div class="param-label">
            <span>Тјбу┤бујЄТИЏУА░</span>
            <span class="param-value" id="edValue">0.995</span>
          </div>
          <input type="range" id="epsilonDecay" min="0.9" max="0.999" step="0.001" value="0.995">
        </div>

        <div class="param-group">
          <div class="param-label">
            <span>сѓесЃћсѓйсЃ╝сЃЅТЋ░</span>
            <span class="param-value" id="epCountValue">500</span>
          </div>
          <input type="range" id="episodeCount" min="50" max="2000" step="50" value="500">
        </div>

        <div class="btn-group">
          <button class="btn btn-primary" id="btnTrain">­Ъџђ Q-Learning</button>
          <button class="btn btn-danger" id="btnReset">Рє║ сЃфсѓ╗сЃЃсЃѕ</button>
        </div>

        <div class="param-group" style="margin-top: 0.75rem;">
          <div class="param-label">
            <span>т»ЙТѕдтЏъТЋ░/ухёсЂ┐тљѕсѓЈсЂЏ</span>
            <span class="param-value" id="mppValue">1</span>
          </div>
          <input type="range" id="matchesPerPair" min="1" max="5" step="1" value="1">
        </div>

        <div class="btn-group" style="margin-top: 0.5rem;">
          <button class="btn btn-primary" id="btnFullSearch"
            style="background: linear-gradient(135deg, #8b5cf6, #6366f1);">­ЪћЇ тЁеуХ▓уЙЁТјбу┤б</button>
        </div>

        <div style="margin-top: 0.75rem;">
          <div class="param-label">
            <span>Тјбу┤бжђ▓ТЇЌ</span>
            <span class="param-value" id="progressLabel">0%</span>
          </div>
          <div class="progress-bar-container">
            <div class="progress-bar" id="progressBar" style="width: 0%;"></div>
          </div>
        </div>

        <div class="btn-group" style="margin-top: 0.5rem;">
          <button class="btn btn-secondary" id="btnSingleMatch">РџА 1УЕдтљѕсЃєсѓ╣сЃѕ</button>
        </div>
      </div>
    </aside>

    <!-- ===== Main Content ===== -->
    <div class="main-content">

      <!-- Field -->
      <div class="field-container">
        <canvas id="fieldCanvas"></canvas>
        <div class="field-overlay">
          <div class="team-label">
            <span class="team-dot home"></span>
            <span id="homeTeamLabel">Тћ╗:4-3-3 / т«ѕ:4-4-2</span>
          </div>
          <div class="team-label">
            <span class="team-dot away"></span>
            <span id="awayTeamLabel">Тћ╗:4-3-3 / т«ѕ:4-4-2</span>
          </div>
        </div>
      </div>

      <!-- Stats Dashboard -->
      <div class="card" id="positionGuideCard">
        <div class="card-header">
          <span class="card-icon">­ЪЊІ</span>
          <h2>сЃЮсѓИсѓисЃДсЃ│тѕЦТјетЦежЂИТЅІ</h2>
          <span class="guide-formation-name" id="guideFormationName">4-3-3</span>
        </div>
        <div class="position-guide-scroll">
          <table class="position-guide-table">
            <thead>
              <tr>
                <th>#</th>
                <th>сЃЮсѓИсѓисЃДсЃ│</th>
                <th>жЄЇУдЂУЃйтіЏ</th>
                <th>сЃЌсЃгсЃ╝сѓ╣сѓ┐сѓцсЃФ</th>
                <th>сѓбсЃЅсЃљсѓцсѓ╣</th>
              </tr>
            </thead>
            <tbody id="positionGuideBody">
            </tbody>
          </table>
        </div>
      </div>

      <!-- Stats Dashboard -->
      <div class="card">
        <div class="card-header">
          <span class="card-icon">­ЪЊі</span>
          <h2>сѓисЃЪсЃЦсЃгсЃ╝сѓисЃДсЃ│ух▒Уеѕ</h2>
        </div>
        <div class="dashboard-grid">
          <div class="stat-card">
            <div class="stat-value blue" id="statEpisodes">0</div>
            <div class="stat-label">сѓесЃћсѓйсЃ╝сЃЅ</div>
          </div>
          <div class="stat-card">
            <div class="stat-value green" id="statWinRate">0%</div>
            <div class="stat-label">уЏ┤У┐ЉтІЮујЄ</div>
          </div>
          <div class="stat-card">
            <div class="stat-value cyan" id="statAvgReward">0.00</div>
            <div class="stat-label">т╣│тЮЄта▒жЁг</div>
          </div>
          <div class="stat-card">
            <div class="stat-value yellow" id="statEpsilon">1.00</div>
            <div class="stat-label">Тјбу┤бујЄ ╬х</div>
          </div>
          <div class="stat-card">
            <div class="stat-value orange" id="statQSize">0</div>
            <div class="stat-label">Q-Table сѓхсѓцсѓ║</div>
          </div>
          <div class="stat-card">
            <div class="stat-value red" id="statBestScore">-</div>
            <div class="stat-label">ТюђжФўсѓ╣сѓ│сѓб</div>
          </div>
        </div>
      </div>

      <!-- Best Strategy -->
      <div class="best-strategy" id="bestStrategyBanner">
        <div class="best-strategy-title">
          ­ЪЈє Тюђт╝иТѕдУАЊ№╝ѕтЁеухёсЂ┐тљѕсѓЈсЂЏсѓѕсѓіт░јтЄ║№╝Ѕ
        </div>
        <div class="best-items">
          <div class="best-item">
            <div class="best-item-label">Тћ╗ТњЃТЎѓF</div>
            <div class="best-item-value" id="bestAtkFormation">-</div>
          </div>
          <div class="best-item">
            <div class="best-item-label">т«ѕтѓЎТЎѓF</div>
            <div class="best-item-value" id="bestDefFormation">-</div>
          </div>
          <div class="best-item">
            <div class="best-item-label">Тћ╗ТњЃТѕдуЋЦ</div>
            <div class="best-item-value" id="bestAttack">-</div>
          </div>
          <div class="best-item">
            <div class="best-item-label">т«ѕтѓЎТѕдуЋЦ</div>
            <div class="best-item-value" id="bestDefense">-</div>
          </div>
        </div>
        <div class="best-items" id="bestExtraStats" style="margin-top: 0.75rem; display: none;"></div>
      </div>

      <!-- Charts -->
      <div class="charts-row">
        <div class="card">
          <div class="card-header">
            <span class="card-icon">­ЪЊѕ</span>
            <h2>та▒жЁгТјеуД╗</h2>
          </div>
          <div class="chart-container">
            <canvas id="rewardChart"></canvas>
          </div>
        </div>
        <div class="card">
          <div class="card-header">
            <span class="card-icon">­ЪЊЅ</span>
            <h2>тІЮујЄТјеуД╗</h2>
          </div>
          <div class="chart-container">
            <canvas id="winRateChart"></canvas>
          </div>
        </div>
      </div>

      <!-- Ranking -->
      <div class="card">
        <div class="card-header">
          <span class="card-icon">­ЪЈЁ</span>
          <h2>ТѕдУАЊсЃЕсЃ│сѓГсЃ│сѓ░</h2>
        </div>
        <table class="ranking-table">
          <thead>
            <tr>
              <th>#</th>
              <th>Тћ╗ТњЃТЎѓF</th>
              <th>т«ѕтѓЎТЎѓF</th>
              <th>Тћ╗ТњЃ</th>
              <th>т«ѕтѓЎ</th>
              <th>сѓ╣сѓ│сѓб</th>
              <th>тІЮујЄ</th>
              <th>тЙЌтц▒уѓ╣</th>
            </tr>
          </thead>
          <tbody id="rankingBody">
            <tr>
              <td colspan="8" style="text-align: center; color: var(--text-muted); padding: 2rem;">
                тГду┐њсЂЙсЂЪсЂ»тЁеуХ▓уЙЁТјбу┤бсѓњт«ЪУАїсЂЎсѓІсЂеухљТъюсЂїУАеуц║сЂЋсѓїсЂЙсЂЎ
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <script type="module" src="js/app.js"></script>
</body>

</html>